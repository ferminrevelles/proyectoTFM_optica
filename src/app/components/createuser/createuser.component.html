<div fxLayout="column" fxFlexFill fxLayoutAlign="center center h-auto" style="background-image:url('../../assets/img/fondo_login.jpg');
  height: 60%;
  background-repeat: no-repeat;
  background-position: center;
  background-size: cover; ">
    <div fxLayout="column" class="p-4 m-auto w-full text-xs md:text-base md:w-3/5">
      <div class=" mat-elevation-z4">
        <mat-card >
            <mat-card-title class="bg-blue-500 text-white p-1 ">
            Crear usuario
            </mat-card-title> 
            <mat-card-content>
            <form [formGroup]="createUserForm" (ngSubmit)="onSubmit(createUserForm.value)" fxLayout="column" fxLayoutAlign="start stretch">
                <div *ngIf="errorUser" class="alert alert-danger">
                <button type="button" class="close" data-dismiss="alert">
                  &times;
                </button>
               
                El usuario ya existe
              </div>
                

                <div class="form-group">
                    <!-- <label for="email">Email</label>-->
                    <mat-form-field class="w-full" appearance="fill">
                    <mat-label>Email *</mat-label>
                      <input matInput
                        type="text"
                        id="email"
                        name="email"
                        formControlName="email"
                        class="form-control"
                        [ngClass]="{
                          'is-invalid': submitted && createUserForm.controls.email.errors
                        }"
                      />
                      <mat-error *ngIf="createUserForm.controls.email.invalid">{{getErrorMessageEmail()}}</mat-error>
                      <mat-hint>example@gmail.com</mat-hint>
                    </mat-form-field>
                    </div>
                    <div class="form-group">
                    
                    <mat-form-field class="w-full" appearance="fill">
                      <mat-label>Password*</mat-label>
                      <input matInput
                        type="password"
                        id="pass"
                        name="pass"
                        formControlName="pass"
                        class="form-control"
                        [ngClass]="{
                          'is-invalid': submitted && createUserForm.controls.pass.errors
                        }"
                      />
                      <mat-error *ngIf="createUserForm.controls.pass.invalid">{{getErrorMessagePassword()}}</mat-error>
                      <mat-hint>enter password is required</mat-hint>
                    </mat-form-field>
                    </div>

                    <div class="form-group"> 
                        <mat-form-field appearance="fill" class="w-full ">
                        <mat-label>Nombre de usuario *</mat-label>
                            <input matInput
                            type="text"
                            id="name"
                            name="name"
                            formControlName="name"
                            class="form-control"
                            [ngClass]="{
                                'is-invalid': submitted && createUserForm.controls.name.errors
                            }"
                            />
                            <mat-error *ngIf="createUserForm.controls.name.invalid">{{getErrorMessageName()}}</mat-error>
                            <mat-hint>Introduce el nombre de usuario</mat-hint>
                        </mat-form-field>
                      </div>

                      <input type="file" class="file-input hidden" (change)="onFileSelected($event)" #fileUpload>
                        <div class="file-upload mt-4 bg-blue-500 mx-auto my-2 text-center font-bold text-base md:w-1/2">
                        
                            {{fileName || "Subir archivo"}}
                        
                            <a mat-mini-fab color="primary" class="upload-btn "
                            (click)="fileUpload.click()">
                                <mat-icon>attach_file</mat-icon>
                            </a>
                        </div>

              <div class="form-group text-center mt-4">
                <button [disabled]="createUserForm.invalid" class="btn btn-primary">
                  Crear usuario
                </button>
                <a routerLink="/admin" class="btn btn-link text-sm"
                  >Volver</a>
              </div>

              
            </form>

            
          </mat-card-content>        
        </mat-card>
      </div>
    </div>
  </div>